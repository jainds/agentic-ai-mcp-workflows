{
  "timestamp": "2025-05-30 11:04:47",
  "test_focus": "Core Architecture Validation",
  "architecture_flow": "UI \u2192 Domain Agent (LLM) \u2192 A2A \u2192 Technical Agent (MCP) \u2192 Services",
  "overall_status": "failed",
  "results": {
    "domain_agent_unit_tests": {
      "status": "failed",
      "details": {
        "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.13.3, pytest-8.3.5, pluggy-1.6.0 -- /Users/piyushkumarjain/insurance-ai-poc/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/piyushkumarjain/insurance-ai-poc\nconfigfile: pyproject.toml\nplugins: anyio-4.9.0, mock-3.14.1, cov-6.1.1, asyncio-1.0.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 0 items / 1 error\n\n==================================== ERRORS ====================================\n_______________ ERROR collecting tests/unit/test_domain_agent.py _______________\nImportError while importing test module '/Users/piyushkumarjain/insurance-ai-poc/tests/unit/test_domain_agent.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule\n    mod = import_path(\n.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module\n    exec(co, module.__dict__)\ntests/unit/test_domain_agent.py:19: in <module>\n    from python_a2a import TaskRequest, TaskResponse, Message, TextContent, MessageRole\nE   ModuleNotFoundError: No module named 'python_a2a'\n================================ tests coverage ================================\n_______________ coverage: platform darwin, python 3.13.3-final-0 _______________\n\nName                                     Stmts   Miss  Cover   Missing\n----------------------------------------------------------------------\nagents/__init__.py                           0      0   100%\nagents/technical/__init__.py                 0      0   100%\nagents/technical/data_agent.py             236    236     0%   6-634\nagents/technical/fastmcp_data_agent.py     209    209     0%   6-462\nagents/technical/notification_agent.py     171    171     0%   6-535\nservices/shared/__init__.py                  0      0   100%\nservices/shared/port_utils.py               34     34     0%   1-49\n----------------------------------------------------------------------\nTOTAL                                      650    650     0%\nCoverage HTML written to dir htmlcov\n=========================== short test summary info ============================\nERROR tests/unit/test_domain_agent.py\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n=============================== 1 error in 0.19s ===============================\n",
        "stderr": "/Users/piyushkumarjain/insurance-ai-poc/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:208: PytestDeprecationWarning: The configuration option \"asyncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))\n/Users/piyushkumarjain/insurance-ai-poc/.venv/lib/python3.13/site-packages/coverage/control.py:915: CoverageWarning: No data was collected. (no-data-collected)\n  self._warn(\"No data was collected.\", slug=\"no-data-collected\")\n/Users/piyushkumarjain/insurance-ai-poc/.venv/lib/python3.13/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/Users/piyushkumarjain/insurance-ai-poc/ui/streamlit_app.py' (couldnt-parse)\n  coverage._warn(msg, slug=\"couldnt-parse\")\n",
        "focus": "LLM reasoning, intent analysis, orchestration planning"
      }
    },
    "technical_agent_unit_tests": {
      "status": "failed",
      "details": {
        "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.13.3, pytest-8.3.5, pluggy-1.6.0 -- /Users/piyushkumarjain/insurance-ai-poc/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/piyushkumarjain/insurance-ai-poc\nconfigfile: pyproject.toml\nplugins: anyio-4.9.0, mock-3.14.1, cov-6.1.1, asyncio-1.0.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 0 items / 1 error\n\n==================================== ERRORS ====================================\n_____________ ERROR collecting tests/unit/test_technical_agent.py ______________\nImportError while importing test module '/Users/piyushkumarjain/insurance-ai-poc/tests/unit/test_technical_agent.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n.venv/lib/python3.13/site-packages/_pytest/python.py:493: in importtestmodule\n    mod = import_path(\n.venv/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n.venv/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:185: in exec_module\n    exec(co, module.__dict__)\ntests/unit/test_technical_agent.py:17: in <module>\n    from agents.technical.fastmcp_data_agent import FastMCPDataAgent\nagents/technical/fastmcp_data_agent.py:15: in <module>\n    from a2a import A2AServer, run_server\nE   ModuleNotFoundError: No module named 'a2a'\n================================ tests coverage ================================\n_______________ coverage: platform darwin, python 3.13.3-final-0 _______________\n\nName                                     Stmts   Miss  Cover   Missing\n----------------------------------------------------------------------\nagents/__init__.py                           0      0   100%\nagents/technical/__init__.py                 0      0   100%\nagents/technical/data_agent.py             236    236     0%   6-634\nagents/technical/fastmcp_data_agent.py     209    201     4%   16-462\nagents/technical/notification_agent.py     171    171     0%   6-535\nservices/shared/__init__.py                  0      0   100%\nservices/shared/port_utils.py               34     34     0%   1-49\n----------------------------------------------------------------------\nTOTAL                                      650    642     1%\nCoverage HTML written to dir htmlcov\n=========================== short test summary info ============================\nERROR tests/unit/test_technical_agent.py\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n=============================== 1 error in 0.31s ===============================\n",
        "stderr": "/Users/piyushkumarjain/insurance-ai-poc/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:208: PytestDeprecationWarning: The configuration option \"asyncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))\n/Users/piyushkumarjain/insurance-ai-poc/.venv/lib/python3.13/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/Users/piyushkumarjain/insurance-ai-poc/ui/streamlit_app.py' (couldnt-parse)\n  coverage._warn(msg, slug=\"couldnt-parse\")\n",
        "focus": "A2A protocol compliance, MCP tool integration"
      }
    },
    "a2a_integration_tests": {
      "status": "passed",
      "details": {
        "stdout": "============================= test session starts ==============================\nplatform darwin -- Python 3.13.3, pytest-8.3.5, pluggy-1.6.0 -- /Users/piyushkumarjain/insurance-ai-poc/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /Users/piyushkumarjain/insurance-ai-poc\nconfigfile: pyproject.toml\nplugins: anyio-4.9.0, mock-3.14.1, cov-6.1.1, asyncio-1.0.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 12 items / 10 deselected / 2 selected\n\ntests/integration/test_domain_technical_agent_integration.py::TestA2AProtocolCompliance::test_a2a_task_request_format SKIPPEDost fastmcp-data-\nagent:8004 ssl:default [nodename nor servname provided, or not known])   [ 50%]\ntests/integration/test_domain_technical_agent_integration.py::TestA2AProtocolCompliance::test_a2a_error_handling SKIPPEDost fastmcp-data-\nagent:8004 ssl:default [nodename nor servname provided, or not known])   [100%]\n\n================================ tests coverage ================================\n_______________ coverage: platform darwin, python 3.13.3-final-0 _______________\n\nName                                     Stmts   Miss  Cover   Missing\n----------------------------------------------------------------------\nagents/__init__.py                           0      0   100%\nagents/technical/__init__.py                 0      0   100%\nagents/technical/data_agent.py             236    236     0%   6-634\nagents/technical/fastmcp_data_agent.py     209    209     0%   6-462\nagents/technical/notification_agent.py     171    171     0%   6-535\nservices/shared/__init__.py                  0      0   100%\nservices/shared/port_utils.py               34     34     0%   1-49\n----------------------------------------------------------------------\nTOTAL                                      650    650     0%\nCoverage HTML written to dir htmlcov\n====================== 2 skipped, 10 deselected in 0.53s =======================\n",
        "stderr": "/Users/piyushkumarjain/insurance-ai-poc/.venv/lib/python3.13/site-packages/pytest_asyncio/plugin.py:208: PytestDeprecationWarning: The configuration option \"asyncio_default_fixture_loop_scope\" is unset.\nThe event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: \"function\", \"class\", \"module\", \"package\", \"session\"\n\n  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))\n/Users/piyushkumarjain/insurance-ai-poc/.venv/lib/python3.13/site-packages/coverage/control.py:915: CoverageWarning: No data was collected. (no-data-collected)\n  self._warn(\"No data was collected.\", slug=\"no-data-collected\")\n/Users/piyushkumarjain/insurance-ai-poc/.venv/lib/python3.13/site-packages/coverage/report_core.py:110: CoverageWarning: Couldn't parse Python file '/Users/piyushkumarjain/insurance-ai-poc/ui/streamlit_app.py' (couldnt-parse)\n  coverage._warn(msg, slug=\"couldnt-parse\")\n",
        "focus": "Domain-to-Technical agent A2A communication"
      }
    },
    "architecture_compliance": {
      "status": "passed",
      "details": {
        "compliance_score": 1.0,
        "checks": {
          "domain_agent_has_llm_reasoning": true,
          "domain_agent_orchestrates_technical": true,
          "technical_agent_has_a2a_protocol": true,
          "technical_agent_has_mcp_tools": true,
          "streamlit_ui_integration": true,
          "official_google_a2a_library": true
        },
        "summary": "6/6 compliance checks passed"
      }
    }
  }
}