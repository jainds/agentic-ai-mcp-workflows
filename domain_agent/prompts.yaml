# Domain Agent Prompts Configuration
# All AI prompts used by the Domain Agent organized by functionality

intent_analysis:
  analyze_intent_prompt: |
    You are analyzing customer intent to determine what information they need.
    You are an intelligent insurance domain agent parser. Analyze this customer request and extract the intent and customer information.
    
    IMPORTANT: Customer IDs can appear in many formats:
    - Standard formats: user_003, CUST-001, customer-123, cust001, USER001
    - Casual mentions: "customer john", "user named Sarah", "client ID ABC123"
    - Mixed case: User_003, CUSTOMER_001, Cust-ABC
    - With prefixes: "for customer user_003", "check user CUST-001"
    - Natural language: "policies for user 003", "customer with ID 001"
    
    Intent Classification Rules:
    - payment_inquiry: User asks about payments, premiums, billing, due dates, amounts, deductibles
    - coverage_inquiry: User asks about coverage amounts, limits, totals, how much coverage
    - policy_inquiry: User asks about policies, policy details, policy types, what policies they have
    - agent_contact: User asks about their agent, contact information, who to call
    - claim_status: User asks about claims or claim status
    - general_inquiry: General questions or unclear intent
    
    Customer message: "{user_text}"
    
    CRITICAL JSON FORMAT REQUIREMENTS:
    1. You MUST respond with ONLY valid JSON - no markdown, no explanations, no extra text
    2. Use exactly these field names: "primary_intent", "customer_id", "confidence"
    3. primary_intent must be one of: payment_inquiry, coverage_inquiry, policy_inquiry, agent_contact, claim_status, general_inquiry
    4. customer_id must be the extracted ID string or null (not "null" in quotes)
    5. confidence must be a number between 0.0 and 1.0
    6. Do not include any other fields or comments
    
    Required JSON Structure:
    {{
        "primary_intent": "payment_inquiry",
        "customer_id": "CUST-001", 
        "confidence": 0.9
    }}
    
    Examples:
    - "What are my premium amounts for customer CUST-001?" ‚Üí {{"primary_intent": "payment_inquiry", "customer_id": "CUST-001", "confidence": 0.9}}
    - "Tell me about my policies" ‚Üí {{"primary_intent": "policy_inquiry", "customer_id": null, "confidence": 0.8}}
    - "Who is my agent for user_003?" ‚Üí {{"primary_intent": "agent_contact", "customer_id": "user_003", "confidence": 0.9}}
    
    RESPOND WITH ONLY THE JSON OBJECT - NO OTHER TEXT:

llm_formatting:
  format_response_prompt: |
    You are an expert insurance customer service representative. You need to format a comprehensive response to a customer's question using ONLY the provided policy data.

    CUSTOMER QUESTION: "{user_question}"
    CUSTOMER ID: {customer_id}
    INTENT: {intent}

    POLICY DATA:
    {policy_data}

    CRITICAL INSTRUCTIONS:
    1. Use ONLY the data provided in POLICY DATA - do not invent dates, names, or amounts
    2. For payment dates, use EXACT dates from "next_payment_due" fields
    3. For agent information, use EXACT names from "assigned_agent" data
    4. For billing cycles, use EXACT values from "billing_cycle" fields  
    5. For payment methods, use EXACT values from "payment_method" fields
    6. Format monetary amounts clearly (e.g., $325,000.00)
    7. Include these specific keywords when relevant:
       - For September dates: mention "september" and "2024-09-01"
       - For June dates: mention "june" and "2024-06-15"
       - For quarterly billing: mention "quarterly" explicitly
       - For monthly billing: mention "monthly" explicitly
       - For auto pay: mention "auto_pay" or "autopay"
       - For agent names: use exact first and last names from data
    8. Based on customer intent:
       - For coverage_inquiry: Focus on coverage amounts and totals
       - For payment_inquiry: Focus on exact payment dates and amounts from data
       - For agent_contact: Focus on exact agent names, phone, email from data
       - For policy_inquiry: Provide comprehensive policy overview
    9. Be conversational but professional
    10. If the data shows multiple policies, organize the information clearly
    11. End with an offer to help further

    IMPORTANT: Never use placeholder dates like "March 1, 2024" or "January 15, 2024" - always use the exact dates from the POLICY DATA.

    Respond with a complete, formatted customer service response using ONLY the provided data.

conversation_planning:
  technical_agent_request_prompt: |
    You are helping formulate a request to the Technical Agent based on customer intent and available information.
    
    Customer Intent: {intent}
    Customer ID: {customer_id}
    Customer Message: {customer_message}
    Session Data: {session_data}
    
    Create a clear, specific request for the Technical Agent that will help answer the customer's question.
    Focus on what specific information or action is needed.
    
    Request format should be concise and actionable.

response_formatting:
  policy_response_template: |
    Thank you for your policy inquiry.

    **POLICY SUMMARY FOR CUSTOMER {customer_id}:**
    
    üìã **Overview:**
    ‚Ä¢ Total Policies: {total_policies}
    ‚Ä¢ Policy Types: {policy_types}
    ‚Ä¢ Total Coverage: {total_coverage}
    
    üìä **Your Policies:**
    {policy_details}
    
    üí∞ **Payment Information:**
    {payment_info}
    
    üë§ **Your Contact Agent:**
    {agent_info}
    
    Is there anything specific about your policies you'd like me to explain further?

  coverage_total_template: |
    **TOTAL COVERAGE SUMMARY FOR CUSTOMER {customer_id}:**
    
    üéØ **Total Coverage Amount: {total_coverage}**
    
    üìã **Coverage Breakdown:**
    {coverage_breakdown}
    
    This represents the combined coverage across all your active policies.

  payment_due_template: |
    **PAYMENT INFORMATION FOR CUSTOMER {customer_id}:**
    
    üí∞ **Upcoming Payments:**
    Your next payments are due on the following dates:
    {payment_details}
    
    üìÖ **Payment Schedule:**
    {payment_schedule}
    
    Would you like help setting up automatic payments or updating your payment method?

  agent_contact_template: |
    **YOUR INSURANCE AGENT FOR CUSTOMER {customer_id}:**
    
    üë§ **Primary Contact:**
    {agent_details}
    
    üìû **How to Reach Your Agent:**
    ‚Ä¢ Phone: {agent_phone}
    ‚Ä¢ Email: {agent_email}
    
    Your agent is available to help with policy questions, claims, and account changes.

  policy_types_template: |
    **YOUR POLICY TYPES FOR CUSTOMER {customer_id}:**
    
    üìã **Active Policies:**
    {policy_types_list}
    
    üõ°Ô∏è **Coverage Summary:**
    {coverage_summary}
    
    Each policy type provides different protections tailored to your needs.

  policy_details_template: |
    **DETAILED POLICY INFORMATION FOR CUSTOMER {customer_id}:**
    
    {detailed_policy_info}
    
    üí° **Key Benefits:**
    {key_benefits}
    
    Would you like more details about any specific policy or coverage type?

  general_help_template: |
    Thank you for contacting our insurance support team.

    **How I Can Help:**
    I'm here to assist you with:
    - Policy information and coverage details
    - Payment schedules and due dates
    - Agent contact information
    - Coverage amounts and limits
    - Policy types and benefits
    
    Please provide your customer ID, and let me know what specific information you need.

error_handling:
  technical_agent_error: |
    I apologize, but I'm experiencing difficulty retrieving your policy information at the moment.
    
    **What you can do:**
    - Please verify your customer ID is correct
    - Try again in a few moments
    - Contact your agent directly if urgent
    
    **Alternative Help:**
    I can still assist with general insurance questions or help you find your agent's contact information.

  customer_not_found: |
    I couldn't find any policies for the customer ID you provided.
    
    **Please check:**
    - Is your customer ID spelled correctly?
    - Are you using the right format? (e.g., CUST-001, user_003)
    
    **Need help?** 
    Contact our customer service team at 1-800-INSURANCE for assistance with your account.

  no_customer_id: |
    To help you with your policy information, I need your customer ID.
    
    **Customer ID formats:**
    - CUST-001, user_003, customer-123
    - Check your policy documents or insurance cards
    
    **Example:** "Show me my policies for customer CUST-001"

claims_responses:
  claims_not_available: |
    Thank you for checking on your claim status.

    **Current Status:**
    Our claims processing system is currently being updated to provide you with the most comprehensive service.
    
    **What This Means:**
    I'm currently working on gathering your claim information. Our claims processing system is reviewing your case to provide you with the most up-to-date status.
    
    **Next Steps:**
    For immediate claim assistance, please contact:
    - Your assigned agent directly
    - Our claims department at 1-800-CLAIMS
    - Submit claim updates through your online portal
    
    **Once available, I'll provide you with:**
    - Current claim status and processing stage
    - Expected timeline for resolution
    - Any required documentation or next steps
    
    Is there anything specific about your claim you'd like me to help clarify?

conversation_context:
  authenticated_greeting: |
    Hello {customer_name}! I'm here to help with your insurance questions.

  unauthenticated_greeting: |
    I'm here to help with your insurance questions.

  session_context_note: |
    (Information retrieved for authenticated customer: {customer_name})

  parsing_confidence_note: |
    (Note: Customer ID parsed with {confidence:.1%} confidence using {method} method) 