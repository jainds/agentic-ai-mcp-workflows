# Domain Agent Prompts Configuration
# All AI prompts used by the Domain Agent organized by functionality

intent_analysis:
  llm_intent_analysis_prompt: |
    You are an intelligent insurance domain agent parser. Analyze this customer request and extract the intent and customer information.
    
    IMPORTANT: Customer IDs can appear in many formats:
    - Standard formats: user_003, CUST-001, customer-123, cust001, USER001
    - Casual mentions: "customer john", "user named Sarah", "client ID ABC123"
    - Mixed case: User_003, CUSTOMER_001, Cust-ABC
    - With prefixes: "for customer user_003", "check user CUST-001"
    - Natural language: "policies for user 003", "customer with ID 001"
    
    Possible intents:
    - policy_inquiry: User wants to retrieve/view/check policies 
    - claim_status: User wants to check claim status or file claims
    - general_inquiry: General questions or unclear intent
    
    Request: "{user_text}"
    
    Instructions:
    1. Extract any customer identifier mentioned in ANY format (be very flexible)
    2. Normalize customer IDs to a consistent format when possible
    3. Determine the most likely intent based on context
    4. Provide high confidence only when very certain
    
    Respond ONLY with valid JSON:
    {{
        "primary_intent": "policy_inquiry|claim_status|general_inquiry",
        "customer_id": "normalized_customer_id_or_null", 
        "original_customer_mention": "exact_text_where_customer_was_mentioned_or_null",
        "confidence": 0.0-1.0,
        "reasoning": "brief explanation of your analysis"
    }}

conversation_planning:
  technical_agent_request_prompt: |
    You are helping formulate a request to the Technical Agent based on customer intent and available information.
    
    Customer Intent: {intent}
    Customer ID: {customer_id}
    Customer Message: {customer_message}
    Session Data: {session_data}
    
    Create a clear, specific request for the Technical Agent that will help answer the customer's question.
    Focus on what specific information or action is needed.
    
    Request format should be concise and actionable.

response_formatting:
  policy_inquiry_response: |
    Thank you for your inquiry about your insurance policies.

    {technical_response}

    **Account Summary:**
    I've successfully retrieved your current policy information from our system. All policies shown above are currently active and in good standing.

    **Need Additional Help?**
    If you have questions about any specific policy details, coverage amounts, or would like to make changes to your policies, I'm here to help!

    Is there anything specific about your policies you'd like me to explain in more detail?

  policy_inquiry_response_fallback: |
    Thank you for your policy inquiry.

    {technical_response}

    If you have your customer ID or policy number available, I can provide more detailed information about your specific coverage and benefits.

    How else can I assist you with your insurance needs today?

  claim_status_response: |
    Thank you for checking on your claim status.

    {technical_response}

    **What This Means:**
    I'm currently working on gathering your claim information. Our claims processing system is reviewing your case to provide you with the most up-to-date status.

    **Next Steps:**
    Once I have your complete claim details, I'll provide you with:
    - Current claim status and processing stage
    - Expected timeline for resolution
    - Any required documentation or next steps

    Is there anything specific about your claim you'd like me to help clarify?

  general_inquiry_response: |
    Thank you for contacting our insurance support team.

    {technical_response}

    **How I Can Help:**
    I'm here to assist you with:
    - Policy information and coverage details
    - Claim status updates and filing assistance
    - Billing and payment questions
    - General insurance guidance

    Please let me know what specific information you're looking for, and I'll be happy to help!

error_handling:
  parsing_error_response: |
    I apologize, but I encountered an issue while processing your request.

    **Error Details:** {error_message}

    **What You Can Do:**
    - Please try rephrasing your question
    - Make sure to include your customer ID if asking about specific policies or claims
    - Contact our support team directly if the issue persists

    I'm here to help once we resolve this technical issue. Thank you for your patience!

  missing_customer_id_response: |
    I understand you want to look up your policies, but I couldn't identify a specific customer ID in your request.

    Please specify your customer ID in one of these formats:
    - user_003
    - CUST-001
    - customer ABC123
    - client 001

    {additional_context}

conversation_context:
  authenticated_greeting: |
    Hello {customer_name}! I'm here to help with your insurance questions.

  unauthenticated_greeting: |
    I'm here to help with your insurance questions.

  session_context_note: |
    (Information retrieved for authenticated customer: {customer_name})

  parsing_confidence_note: |
    (Note: Customer ID parsed with {confidence:.1%} confidence using {method} method) 